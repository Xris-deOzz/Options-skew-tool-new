<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Options Skew Explained</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
            font-weight: 300;
        }
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 1.2em;
        }
        .chart-section {
            margin: 40px 0;
            padding: 25px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        .chart-title {
            font-size: 1.5em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
        }
        .chart-description {
            color: #5a6c7d;
            margin-bottom: 20px;
            line-height: 1.6;
            text-align: center;
        }
        canvas {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: block;
            margin: 20px auto;
        }
        .controls {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        .control-group {
            display: inline-block;
            margin: 0 15px;
            vertical-align: top;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #2c3e50;
        }
        input[type="range"] {
            width: 150px;
            margin: 5px 0;
        }
        .value-display {
            font-weight: bold;
            color: #3498db;
            margin-top: 5px;
        }
        .explanation {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(240, 147, 251, 0.3);
        }
        .explanation h3 {
            margin-top: 0;
            font-size: 1.4em;
        }
        .key-points {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .point-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #3498db;
        }
        .point-card h4 {
            color: #2c3e50;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Options Skew Explained</h1>
        <p class="subtitle">Understanding Implied Volatility Patterns Across Strike Prices</p>

        <div class="chart-section">
            <h3 class="chart-title">Interactive Volatility Skew</h3>
            <p class="chart-description">
                Adjust the controls below to see how different market conditions affect the volatility skew pattern
            </p>
            
            <div class="controls">
                <div class="control-group">
                    <label for="skewIntensity">Skew Intensity</label>
                    <input type="range" id="skewIntensity" min="0" max="20" value="10" step="1">
                    <div class="value-display" id="skewValue">10</div>
                </div>
                <div class="control-group">
                    <label for="baseVol">Base Volatility</label>
                    <input type="range" id="baseVol" min="15" max="35" value="25" step="1">
                    <div class="value-display" id="volValue">25%</div>
                </div>
                <div class="control-group">
                    <label for="spotPrice">Current Stock Price</label>
                    <input type="range" id="spotPrice" min="80" max="120" value="100" step="5">
                    <div class="value-display" id="spotValue">$100</div>
                </div>
            </div>

            <canvas id="mainChart" width="800" height="400"></canvas>
        </div>

        <div class="explanation">
            <h3>What is Options Skew?</h3>
            <p>
                Options skew occurs when options with the same expiration date but different strike prices 
                have different implied volatilities. In theory, all options on the same underlying asset 
                should have similar implied volatilities, but in practice, market forces create this skew pattern.
            </p>
        </div>

        <div class="key-points">
            <div class="point-card">
                <h4>üîª Put Skew (Most Common)</h4>
                <p>Out-of-the-money puts have higher implied volatility than at-the-money options. This reflects investors' willingness to pay a premium for downside protection.</p>
            </div>
            <div class="point-card">
                <h4>üìà Why Skew Exists</h4>
                <p>Market makers adjust prices based on supply/demand, crash fears, and hedging needs. Heavy demand for protective puts drives their prices (and implied volatility) higher.</p>
            </div>
            <div class="point-card">
                <h4>üí° Trading Opportunities</h4>
                <p>Traders can exploit skew by buying relatively cheap options and selling expensive ones, or by adjusting their strategies based on the skew pattern.</p>
            </div>
            <div class="point-card">
                <h4>‚ö†Ô∏è Risk Management</h4>
                <p>Skew affects delta hedging, position Greeks, and overall portfolio risk. Understanding skew is crucial for proper risk assessment.</p>
            </div>
        </div>

        <div class="chart-section">
            <h3 class="chart-title">Different Skew Patterns</h3>
            <p class="chart-description">
                Compare different types of skew patterns commonly observed in the market
            </p>
            <canvas id="comparisonChart" width="800" height="400"></canvas>
        </div>

        <div class="explanation">
            <h3>Why Skew Matters for Traders</h3>
            <p>
                <strong>Pricing Accuracy:</strong> Skew helps traders identify mispriced options and arbitrage opportunities.<br><br>
                <strong>Risk Assessment:</strong> Different skew levels indicate varying market sentiment and risk perceptions.<br><br>
                <strong>Strategy Selection:</strong> The skew pattern influences which options strategies are most profitable.<br><br>
                <strong>Hedging Efficiency:</strong> Understanding skew improves hedging effectiveness and cost management.
            </p>
        </div>
    </div>

    <script>
        function drawSkewChart() {
            const skewIntensity = parseInt(document.getElementById('skewIntensity').value);
            const baseVol = parseInt(document.getElementById('baseVol').value);
            const spotPrice = parseInt(document.getElementById('spotPrice').value);
            
            const canvas = document.getElementById('mainChart');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Background
            ctx.fillStyle = '#fafafa';
            ctx.fillRect(50, 50, 700, 300);
            ctx.strokeStyle = '#ddd';
            ctx.strokeRect(50, 50, 700, 300);
            
            // Generate data
            const strikes = [];
            const vols = [];
            
            for (let strike = spotPrice - 30; strike <= spotPrice + 30; strike += 5) {
                const moneyness = (strike - spotPrice) / spotPrice;
                let vol = baseVol;
                
                if (moneyness < 0) {
                    vol += skewIntensity * Math.abs(moneyness) * 2;
                } else {
                    vol += skewIntensity * moneyness * 0.5;
                }
                
                strikes.push(strike);
                vols.push(vol);
            }
            
            // Draw grid and labels
            ctx.strokeStyle = '#eee';
            ctx.lineWidth = 1;
            ctx.fillStyle = '#666';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            
            // X-axis grid and labels
            for (let i = 0; i <= 10; i++) {
                const x = 50 + (700 * i / 10);
                const strike = Math.min(...strikes) + (Math.max(...strikes) - Math.min(...strikes)) * (i / 10);
                
                ctx.beginPath();
                ctx.moveTo(x, 50);
                ctx.lineTo(x, 350);
                ctx.stroke();
                
                ctx.fillText(Math.round(strike), x, 370);
            }
            
            // Y-axis grid and labels
            ctx.textAlign = 'right';
            const minVol = Math.min(...vols) - 2;
            const maxVol = Math.max(...vols) + 2;
            
            for (let i = 0; i <= 6; i++) {
                const y = 350 - (300 * i / 6);
                const vol = minVol + (maxVol - minVol) * (i / 6);
                
                ctx.beginPath();
                ctx.moveTo(50, y);
                ctx.lineTo(750, y);
                ctx.stroke();
                
                ctx.fillText(Math.round(vol), 45, y + 4);
            }
            
            // Draw main line
            ctx.strokeStyle = '#3498db';
            ctx.lineWidth = 3;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            ctx.beginPath();
            
            strikes.forEach((strike, i) => {
                const x = 50 + ((strike - Math.min(...strikes)) / (Math.max(...strikes) - Math.min(...strikes))) * 700;
                const y = 350 - ((vols[i] - minVol) / (maxVol - minVol)) * 300;
                
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.stroke();
            
            // Draw data points
            ctx.fillStyle = '#3498db';
            strikes.forEach((strike, i) => {
                const x = 50 + ((strike - Math.min(...strikes)) / (Math.max(...strikes) - Math.min(...strikes))) * 700;
                const y = 350 - ((vols[i] - minVol) / (maxVol - minVol)) * 300;
                
                ctx.beginPath();
                ctx.arc(x, y, 5, 0, 2 * Math.PI);
                ctx.fill();
                
                // White border
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 2;
                ctx.stroke();
            });
            
            // Chart labels
            ctx.fillStyle = '#333';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Implied Volatility vs Strike Price', 400, 30);
            ctx.fillText('Strike Price ($)', 400, 395);
            
            // Y-axis label (rotated)
            ctx.save();
            ctx.translate(25, 200);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Implied Volatility (%)', 0, 0);
            ctx.restore();
        }

        function drawComparisonChart() {
            const canvas = document.getElementById('comparisonChart');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Background
            ctx.fillStyle = '#fafafa';
            ctx.fillRect(50, 50, 700, 300);
            ctx.strokeStyle = '#ddd';
            ctx.strokeRect(50, 50, 700, 300);
            
            const strikes = [70, 75, 80, 85, 90, 95, 100, 105, 110, 115, 120];
            
            const datasets = [
                {
                    label: 'Normal Skew',
                    data: [35, 32, 29, 27, 25, 24, 23, 24, 25, 26, 27],
                    color: '#e74c3c'
                },
                {
                    label: 'Steep Skew (Crisis)',
                    data: [45, 40, 35, 31, 28, 26, 25, 27, 29, 31, 33],
                    color: '#f39c12'
                },
                {
                    label: 'Flat/Reverse Skew',
                    data: [20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30],
                    color: '#27ae60'
                }
            ];
            
            // Draw grid
            ctx.strokeStyle = '#eee';
            ctx.lineWidth = 1;
            ctx.fillStyle = '#666';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            
            // X-axis grid and labels
            for (let i = 0; i <= 10; i++) {
                const x = 50 + (700 * i / 10);
                const strike = 70 + 50 * (i / 10);
                
                ctx.beginPath();
                ctx.moveTo(x, 50);
                ctx.lineTo(x, 350);
                ctx.stroke();
                
                ctx.fillText(Math.round(strike), x, 370);
            }
            
            // Y-axis grid and labels
            ctx.textAlign = 'right';
            for (let i = 0; i <= 6; i++) {
                const y = 350 - (300 * i / 6);
                const vol = 15 + 35 * (i / 6);
                
                ctx.beginPath();
                ctx.moveTo(50, y);
                ctx.lineTo(750, y);
                ctx.stroke();
                
                ctx.fillText(Math.round(vol), 45, y + 4);
            }
            
            // Draw lines for each dataset
            datasets.forEach((dataset, datasetIndex) => {
                ctx.strokeStyle = dataset.color;
                ctx.lineWidth = 3;
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                ctx.beginPath();
                
                strikes.forEach((strike, i) => {
                    const x = 50 + ((strike - 70) / 50) * 700;
                    const y = 350 - ((dataset.data[i] - 15) / 35) * 300;
                    
                    if (i === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                });
                ctx.stroke();
                
                // Legend
                const legendY = 80 + datasetIndex * 25;
                ctx.strokeStyle = dataset.color;
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(550, legendY);
                ctx.lineTo(580, legendY);
                ctx.stroke();
                
                ctx.fillStyle = '#333';
                ctx.font = '12px Arial';
                ctx.textAlign = 'left';
                ctx.fillText(dataset.label, 590, legendY + 4);
            });
            
            // Chart labels
            ctx.fillStyle = '#333';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Different Market Conditions', 400, 30);
            ctx.fillText('Strike Price ($)', 400, 395);
            
            // Y-axis label (rotated)
            ctx.save();
            ctx.translate(25, 200);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Implied Volatility (%)', 0, 0);
            ctx.restore();
        }

        function setupEventListeners() {
            document.getElementById('skewIntensity').addEventListener('input', function(e) {
                document.getElementById('skewValue').textContent = e.target.value;
                drawSkewChart();
            });

            document.getElementById('baseVol').addEventListener('input', function(e) {
                document.getElementById('volValue').textContent = e.target.value + '%';
                drawSkewChart();
            });

            document.getElementById('spotPrice').addEventListener('input', function(e) {
                document.getElementById('spotValue').textContent = '$' + e.target.value;
                drawSkewChart();
            });
        }

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            drawSkewChart();
            drawComparisonChart();
            setupEventListeners();
        });
    </script>
</body>
</html>
